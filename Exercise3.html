<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>I'm in a React app!</title>
	</head>
	<body>
		<div id="react-app"></div>

		<script src="https://unpkg.com/react@latest/dist/react.js"></script>
		<script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
		<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
		<script type="text/babel">

			var contacts = [
				{key: 1, name: "James K Nelson", email: "james@jamesknelson.com", description: "Front-end Unicorn"},
				{key: 2, name: "Jim", email: "jim@example.com"},
				{key: 3, name: "Joe"},
			]

			var newContact = {name: "", email: "", description: ""}

			var ContactItem = React.createClass({
				propTypes: {
					name: React.PropTypes.string.isRequired,
					email: React.PropTypes.string.isRequired,
					description: React.PropTypes.string,
				},

				render: function() {
					return (
						React.createElement('li', {},
							React.createElement('h2', {className: 'Contact-name'}, this.props.name),
							React.createElement('a', {href: 'mailto:joe@example.com'}, 'joe@example.com'),
							React.createElement('div', {}, this.props.description)
						)
					)
				},
			});

			var ContactForm = React.createClass({
				propTypes: {
					contact: React.PropTypes.object.isRequired
				},

				render: function() {
					return (
						React.createElement('form', {},
							
							React.createElement('input', {
								type: 'text',
								placeholder: 'Name',
								value: this.props.contact.name
							}),
							React.createElement('input', {
								type: 'email',
								placeholder: 'Email',
								value: this.props.contact.email
							}),
							React.createElement('textarea', {
								placeholder: 'Description',
								value: this.props.contact.description
							}),
							
							React.createElement('button', {type: 'submit'}, "Add")
						)
					)
				},
			})

			var contactItemElements = contacts
			.filter(function(contact) { return contact.email })
			.map(function(contact) { return React.createElement(ContactItem, contact) })

			var rootElement =
				React.createElement('div', {}, 
				React.createElement('h1', {}, "Contacts"),
				React.createElement('ul', {}, contactItemElements),
				React.createElement('h1', {}, "New Contact"),
				React.createElement(ContactForm, {contact: newContact})
			)

			ReactDOM.render(rootElement, document.getElementById('react-app'))
		</script>
	</body>
</html>